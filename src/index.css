@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* 1. Design System & Variables
---------------------------------------------------- */
:root {
  --font-sans: 'Inter', sans-serif;

  --color-primary-50: #f5f3ff;
  --color-primary-100: #ede9fe;
  --color-primary-200: #ddd6fe;
  --color-primary-300: #c4b5fd;
  --color-primary-400: #a78bfa;
  --color-primary-500: #8b5cf6;
  --color-primary-600: #7c3aed;
  --color-primary-700: #6d28d9;
  --color-primary-800: #5b21b6;
  --color-primary-900: #4c1d95;

  --color-gray-50: #f8fafc;
  --color-gray-100: #f1f5f9;
  --color-gray-200: #e2e8f0;
  --color-gray-300: #cbd5e1;
  --color-gray-400: #94a3b8;
  --color-gray-500: #64748b;
  --color-gray-600: #475569;
  --color-gray-700: #334155;
  --color-gray-800: #1e293b;
  --color-gray-900: #0f172a;

  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-danger: #ef4444;
  --color-info: #3b82f6;

  --color-background: var(--color-gray-50);
  --color-text-primary: var(--color-gray-800);
  --color-text-secondary: var(--color-gray-500);
  --color-border: var(--color-gray-200);
  --color-card-background: #ffffff;

  --border-radius: 0.75rem;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --transition: all 0.2s ease-in-out;
}

/* 2. Base & Typography
---------------------------------------------------- */
body {
  background-color: var(--color-background);
  color: var(--color-text-primary);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  @apply font-bold text-gray-900;
}

.page-header {
  @apply mb-6;
}
.page-header h1 {
  @apply text-3xl font-bold text-gray-900;
}
.page-header p {
  @apply mt-1 text-base text-gray-600;
}

.page-controls {
  @apply flex items-center gap-4 mb-6;
}

.link {
  @apply text-primary-600 hover:text-primary-700 font-medium transition;
}

/* 3. Layout & Structure
---------------------------------------------------- */
.app-layout {
  @apply flex h-screen;
}

.sidebar {
  @apply fixed lg:relative flex-shrink-0 bg-gray-800 text-white transition-all duration-300 z-40 h-full;
  width: 260px;
}
.sidebar.collapsed {
  width: 0;
  @apply -translate-x-full lg:w-20;
}

.main-content-wrapper {
  @apply flex-1 flex flex-col h-screen overflow-y-auto;
}
.main-content-wrapper.sidebar-collapsed {
  @apply w-full;
}

.main-content {
  @apply p-4 sm:p-6 lg:p-8;
}

.mobile-overlay {
  @apply fixed inset-0 bg-black/50 z-30 lg:hidden;
}

/* 4. Components
---------------------------------------------------- */

/* --- Sidebar / Navbar --- */
.sidebar-header {
  @apply flex items-center gap-3 h-16 px-6 border-b border-gray-700;
}
.sidebar-logo-icon {
  @apply h-7 w-7 text-primary-400;
}
.sidebar-logo-text {
  @apply text-xl font-bold whitespace-nowrap;
}
.sidebar.collapsed .sidebar-logo-text {
  @apply hidden lg:block lg:opacity-0;
}

.sidebar-nav {
  @apply p-4;
}
.nav-item {
  @apply flex items-center gap-3 px-4 py-2.5 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors;
}
.nav-item.active {
  @apply bg-primary-600 text-white shadow-md;
}
.nav-item-icon {
  @apply h-5 w-5;
}
.sidebar.collapsed .nav-item-label {
  @apply hidden lg:group-hover:block lg:absolute lg:left-full lg:ml-4 lg:bg-gray-700 lg:px-3 lg:py-1.5 lg:rounded-md lg:whitespace-nowrap;
}

/* --- Top Navbar --- */
.top-navbar {
  @apply sticky top-0 z-20 flex items-center justify-between h-16 px-4 sm:px-8 bg-white/80 backdrop-blur-sm border-b border-gray-200;
}
.top-navbar-left {
  @apply flex items-center gap-4;
}
.sidebar-toggle {
  @apply p-2 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-800 lg:hidden;
}
.top-navbar-right {
  @apply flex items-center gap-2 sm:gap-4;
}

/* --- Breadcrumbs --- */
.breadcrumbs {
  @apply flex items-center text-sm font-medium text-gray-500;
}
.breadcrumbs a {
  @apply hover:text-gray-800;
}
.breadcrumb-item {
  @apply flex items-center;
}
.breadcrumb-item svg {
  @apply h-4 w-4 mx-1 text-gray-400;
}
.breadcrumb-item span {
  @apply text-gray-800 font-semibold;
}

/* --- Cards --- */
.card {
  background-color: var(--color-card-background);
  border-radius: var(--border-radius);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
  @apply p-6;
}
.card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}
.card h3 {
  @apply text-lg font-bold mb-4;
}

/* --- Buttons --- */
.btn {
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 font-semibold rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed;
  transform: scale(1);
}
.btn:hover:not(:disabled) {
  transform: scale(1.03);
}
.btn-primary {
  @apply bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500;
}
.btn-secondary {
  @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus-visible:ring-gray-400 border border-gray-300;
}
.btn-approve {
  @apply bg-success text-white hover:bg-green-600 focus-visible:ring-green-500;
}
.btn-reject {
  @apply bg-danger text-white hover:bg-red-600 focus-visible:ring-red-500;
}
.btn-sm {
  @apply px-3 py-1.5 text-sm;
}

/* --- Forms & Inputs --- */
.form-container {
  @apply w-full min-h-screen flex items-center justify-center p-4;
}
.form-card {
  @apply w-full max-w-md;
}
.form-card h2 {
  @apply text-2xl font-bold text-center mb-6;
}
.form-group {
  @apply mb-5;
}
.form-group label {
  @apply block text-sm font-medium text-gray-600 mb-1.5;
}
.input-field, .textarea-field, .custom-select-value {
  @apply block w-full px-3.5 py-2 bg-white border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm transition;
}
.input-field:hover, .textarea-field:hover, .custom-select-value:hover {
  @apply border-gray-400;
}
.textarea-field {
  @apply min-h-[120px];
}
.error-text {
  @apply text-red-600 text-sm mt-1.5;
}
.checkbox-label {
  @apply flex items-center gap-2 text-sm text-gray-700 cursor-pointer;
}
.checkbox-label input {
  @apply h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500;
}

.form-card-lg {
  @apply max-w-2xl mx-auto;
}

.form-divider {
  @apply my-6 border-t border-gray-200;
}

.form-divider-text {
  @apply text-sm font-medium text-gray-500 mb-4 -mt-2;
}

/* --- Request Card --- */
.requests-grid {
  @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6;
}
.request-card-link {
  @apply block no-underline;
}
.request-details-header {
  @apply flex justify-between items-start mb-3;
}
.request-details-header h3 {
  @apply text-lg font-bold mb-0;
}
.request-details-header small {
  @apply text-xs text-gray-500;
}
.request-status-badge {
  @apply px-3 py-1 text-xs font-bold rounded-full capitalize;
}
.request-status-badge.pending { @apply bg-yellow-100 text-yellow-800; }
.request-status-badge.approved { @apply bg-green-100 text-green-800; }
.request-status-badge.rejected { @apply bg-red-100 text-red-800; }

.request-card-description {
  @apply text-sm text-gray-600 my-4 line-clamp-2;
}

/* --- User Item --- */
.users-list-grid {
  @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6;
}
.user-item-card {
  @apply flex items-center justify-between;
}
.user-role {
  @apply mt-2 inline-block px-2.5 py-1 text-xs font-semibold rounded-full capitalize;
}
.user-role.admin { @apply bg-primary-100 text-primary-800; }
.user-role.board_member { @apply bg-blue-100 text-blue-800; }
.user-role.employee { @apply bg-gray-100 text-gray-800; }

/* --- Modals --- */
.modal-backdrop {
  @apply fixed inset-0 bg-gray-900/60 flex items-center justify-center z-50 p-4;
}
.modal-content {
  @apply bg-white rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-md m-4;
}
.modal-content h2 {
  @apply text-xl font-bold mb-4;
}
.modal-actions {
  @apply flex justify-end gap-4 mt-6;
}

/* --- Notifications --- */
.notification-bell { @apply relative; }
.notification-bell-button { @apply relative p-2 rounded-full hover:bg-gray-100 transition-colors; }
.notification-bell-icon { @apply h-6 w-6 text-gray-500; }
.notification-badge { @apply absolute top-1 right-1 h-2.5 w-2.5 bg-red-500 rounded-full border-2 border-white; }
.notification-dropdown { @apply absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50; }
.notification-dropdown-header { @apply p-3 font-bold border-b; }
.notification-list { @apply max-h-96 overflow-y-auto; }
.notification-item { @apply flex items-start gap-3 p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100; }
.notification-item.unread { @apply font-semibold; }
.notification-item .dot { @apply h-2 w-2 rounded-full bg-primary-500 mt-1.5 flex-shrink-0; }
.notification-item.read .dot { @apply bg-gray-300; }
.notification-message p { @apply text-sm text-gray-800; }
.notification-message small { @apply text-xs text-gray-500; }
.notification-footer { @apply p-2 text-center border-t; }
.notification-footer a, .notification-footer button { @apply text-sm text-primary-600 hover:underline; }
.notification-empty-state { @apply p-4 text-center text-sm text-gray-500; }

/* --- User Menu --- */
.user-menu { @apply relative; }
.user-avatar { @apply h-10 w-10 rounded-full bg-primary-600 text-white flex items-center justify-center font-bold cursor-pointer ring-2 ring-offset-2 ring-transparent hover:ring-primary-300 transition-all; }
.user-menu-dropdown { @apply absolute right-0 mt-2 w-48 bg-white rounded-md shadow-xl border border-gray-200 z-50 overflow-hidden; }
.user-menu-header { @apply px-3 py-2 border-b; }
.user-menu-header strong { @apply block text-sm font-semibold; }
.user-menu-header small { @apply block text-xs text-gray-500 capitalize; }
.user-menu-dropdown ul li a, .user-menu-dropdown ul li button { @apply w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100; }

/* --- Skeletons --- */
.skeleton { @apply bg-gray-200 rounded animate-pulse; }
.request-card-skeleton { @apply card space-y-4; }
.stat-item-skeleton { @apply bg-white p-5 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4; }
.user-item-skeleton { @apply card flex items-center justify-between; }

/* --- Dashboard --- */
.dashboard-stats-grid { @apply grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6; }
.dashboard-main-grid { @apply grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8; }
.dashboard-col-span-2 { @apply lg:col-span-2; }

.stat-item { @apply bg-white p-5 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4; }
.stat-item-icon-wrapper { @apply h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0; }
.stat-item-icon-wrapper svg { @apply h-6 w-6; }
.stat-item-info h4 { @apply text-sm font-medium text-gray-500 mb-0; }
.stat-item-info p { @apply text-2xl font-bold text-gray-900; }

.chart-container-card { @apply h-[400px]; }

/* --- Dashboard Widgets (MyRecentRequestStatus, RecentRequestsList) --- */
.latest-request-widget, .list-card-header {
  @apply flex items-center justify-between;
}

.latest-request-widget {
  @apply gap-4;
}

.status-icon-bg {
  @apply h-12 w-12 rounded-full flex items-center justify-center flex-shrink-0;
}
.status-icon-bg.approved { @apply bg-green-100 text-green-600; }
.status-icon-bg.pending { @apply bg-yellow-100 text-yellow-600; }
.status-icon-bg.rejected { @apply bg-red-100 text-red-600; }
.status-icon {
  @apply h-6 w-6;
}

.request-widget-details h4 {
  @apply font-semibold text-gray-800;
}
.request-widget-details p {
  @apply text-sm text-gray-500;
}
.request-status-text {
  @apply font-bold capitalize;
}
.request-status-text.approved { @apply text-green-600; }
.request-status-text.pending { @apply text-yellow-600; }
.request-status-text.rejected { @apply text-red-600; }

.list-card-list {
  @apply mt-4 space-y-3;
}
.list-card-item {
  @apply flex items-center justify-between p-3 -mx-3 rounded-lg hover:bg-gray-50;
}
.list-card-info {
  @apply flex flex-col;
}
.item-title {
  @apply font-semibold text-gray-800;
}
.item-user {
  @apply text-sm text-gray-500;
}

/* --- Request Details --- */
.request-details-card { @apply card; }
.request-actions { @apply p-4 mb-6 bg-primary-50 border border-primary-200 rounded-lg text-center; }
.request-actions p { @apply text-primary-800 font-medium mb-3; }
.decision-buttons { @apply flex justify-center gap-4; }
.decisions-section { @apply mt-6 pt-6 border-t border-gray-200; }
.decisions-section h4 { @apply font-bold mb-2; }
.decision-item .decision-approved { @apply text-green-600; }
.decision-item .decision-rejected { @apply text-red-600; }

/* --- Filter Controls --- */
.filter-tabs { @apply flex items-center border-b border-gray-200; }
.filter-tab { @apply px-4 py-2 -mb-px border-b-2 text-sm font-medium transition-colors; }
.filter-tab.active { @apply border-primary-500 text-primary-600; }
.filter-tab:not(.active) { @apply border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300; }

/* --- Empty State --- */
.empty-state { @apply text-center py-12 px-6 bg-gray-100 rounded-lg; }
.empty-state-icon { @apply text-gray-400 w-16 h-16 mx-auto mb-4; }
.empty-state h3 { @apply text-xl font-semibold text-gray-800; }
.empty-state p { @apply text-gray-500 mt-2; }
.empty-state-action { @apply mt-6; }

/* --- Not Found Page --- */
.not-found-container { @apply flex flex-col items-center justify-center text-center h-[60vh]; }
.not-found-container h1 { @apply text-4xl font-bold mb-4; }
.not-found-container p { @apply text-gray-500 mb-8; }